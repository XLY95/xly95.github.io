<!doctypehtml><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>NRF墨水屏</title><link href="css/css.css?v=20250412"rel=stylesheet><div class=main><h3>NRF墨水屏</h3><fieldset><legend>蓝牙连接</legend><div class=flex-container><div class=flex-group><button class=primary onclick=preConnect() type=button id=connectbutton>连接</button> <button class=secondary onclick=reConnect() type=button id=reconnectbutton>重连</button> <button class=secondary onclick=clearLog() type=button>清空</button></div><div class="flex-group right debug"><input id=cmdTXT style=display:none> <button class=primary onclick=sendcmd() type=button id=sendcmdbutton style=display:none></button></div><div class="flex-group right"><label for=epddriver>屏幕：</label> <select id=epddriver><option value=02 data-color=threeColor data-size=4.2_400_300>SSD开头芯片(三色)<option value=04 data-color=blackWhiteColor data-size=4.2_400_300>SSD开头芯片(黑白)<option value=01 data-color=blackWhiteColor data-size=4.2_400_300>UC开头芯片(黑白)<option value=03 data-color=threeColor data-size=4.2_400_300>UC开头芯片(三色)</select></div><div class="flex-group right"><label>激活：</label> <input id=epdpins> <button class=primary onclick=set_EPD_CMD_J_H() type=button id=setDriverbutton>确认</button></div></div><div id=log></div></fieldset><fieldset><legend>设备控制</legend><div class=flex-container><div class=flex-group><button class=primary onclick=syncTime(1) type=button id=calendarmodebutton>日历模式</button> <button class=primary onclick=syncTime(2) type=button id=clockmodebutton>时钟模式</button> <button class=primary onclick=syncTime(4) type=button id=clockmodebutton>数码管时钟</button> <button class=secondary onclick=clearScreen() type=button id=clearscreenbutton>清除屏幕</button></div></fieldset><fieldset><legend>显示设置</legend><div class="flex-group right"><label for=fanxian>是否反显:</label> <select id=fanxian><option value=01>否<option value=00>是</select> <label for=xuanzhuan>旋转屏幕:</label> <select id=xuanzhuan><option value=00>否<option value=01>是</select></div><div class="flex-group right"><label for=qiangzhi_shuaxing>强制刷新:</label> <select id=qiangzhi_shuaxing><option value=00>否<option value=01>是</select> <label>局刷时长:<label><input id=jushua_time type=range max=200 min=2 value=2 step=1></div><button class=primary onclick=set_EPD_CMD_MY() type=button id=setDriverbutton>确认</button></fieldset><fieldset><legend>时钟颜色设置</legend><div class="flex-group right"><label for=color_1>显示红色:</label> <select id=color_1><option value=00>否<option value=01>是</select> <label for=time_color>时钟红否:</label> <select id=time_color><option value=00>否<option value=01>是</select></div><div class="flex-group right"><label for=wendu_color>温度红否:</label> <select id=wendu_color><option value=00>否<option value=01>是</select> <label for=gongli_color>公历红否:</label> <select id=gongli_color><option value=00>否<option value=01>是</select></div><div class="flex-group right"><label for=shichen_color>时辰红否:</label> <select id=shichen_color><option value=00>否<option value=01>是</select> <label for=jieqi_color>节气红否:</label> <select id=jieqi_color><option value=00>否<option value=01>是</select></div><div class="flex-group right"><div class=flex-group><label>红色局刷时长:<label><input id=r_jushua_time type=range max=200 min=10 value=10 step=1></div><button class=primary onclick=set_EPD_CMD_COLOR() type=button id=setDriverbutton>确认</button></fieldset><fieldset><legend>LED设置</legend><div class="flex-group right"><label for=color_led>选择颜色:</label> <select id=color_led><option value=00>红色<option value=01>绿色<option value=02>红色<option value=03>白色<option value=04>黄色<option value=05>紫色<option value=06>天蓝</select></div><div class=flex-group><label>频率时长:<label><input id=liang_time type=range max=80 min=0 value=0 step=1> <label>闪烁频率</label> <input id=liang_add type=number max=10 min=0 value=0></div><label>LED明暗:</label> <input id=liangdu type=number max=10 min=1 value=1> <label>长亮时长:</label> <input id=liang_s type=range max=250 min=1 value=1></div><button class=primary onclick=set_EPD_CMD_LED() type=button id=setDriverbutton>确认</button><fieldset><legend>闹钟设置</legend><div class=flex-group><div class="flex-group right"><label for=N_Z_start>闹钟:</label> <select id=N_Z_start><option value=00>关闭<option value=01>开启</select> <label>小时:</label> <input id=N_Z_hour type=number max=23 min=0 value=0> <label>分钟:</label> <input id=N_Z_min type=number max=59 min=0 value=0> <button class=primary onclick=set_EPD_CMD_N_Z() type=button id=setDriverbutton>确认</button></div><div class=flex-group><div class="flex-group right"><label for=D_S_start>定时:</label> <select id=D_S_start><option value=00>关闭<option value=01>开启</select> <label>小时:</label> <input id=D_S_hour type=number max=23 min=0 value=0> <label>分钟:</label> <input id=D_S_min type=number max=59 min=0 value=0> <button class=primary onclick=set_EPD_CMD_D_S() type=button id=setDriverbutton>确认</button></div><div class=flex-group><div class="flex-group right"><label for=J_S_start>计时:</label> <select id=J_S_start><option value=00>关闭<option value=01>开启</select> <label>小时:</label> <input id=J_S_hour type=number max=23 min=0 value=0> <label>分钟:</label> <input id=J_S_min type=number max=59 min=0 value=0> <button class=primary onclick=set_EPD_CMD_J_S() type=button id=setDriverbutton>确认</button></div></fieldset><fieldset><legend>蓝牙传图</legend><div class=flex-container><input id=imageFile type=file accept=.png,.jpg,.bmp,.webp,.jpeg></div><div class="flex-container options"><div class=flex-group><label for=canvasSize>画布尺寸:</label> <select id=canvasSize><option value=2.13_212_104>2.13 (212x104)<option value=2.13_250_122>2.13 (250x122)<option value=2.9_296_128>2.9 (296x128)<option value=4.2_400_300 selected>4.2 (400x300)</select> <label for=ditherMode>颜色模式:</label> <select id=ditherMode><option value=blackWhiteColor>双色(黑白)<option value=threeColor>三色(黑白红)</select></div><div class=flex-group><label for=ditherAlg>抖动算法:</label> <select id=ditherAlg><option value=floydSteinberg>Floyd-Steinberg<option value=atkinson>Atkinson<option value=bayer>Bayer<option value=stucki>Stucki<option value=jarvis>Jarvis-Judice-Ninke</select></div><div class=flex-group><label for=ditherStrength>抖动强度:</label> <input id=ditherStrength type=range max=5 min=0 value=1.0 step=0.1> <label id=ditherStrengthValue>1.0</label> <label for=ditherContrast>对比度:</label> <input id=ditherContrast type=range max=2 min=0.5 value=1.2 step=0.1> <label id=ditherContrastValue>1.2</label></div></div><div class="flex-container options"><div class=flex-group><label for=mtusize>MTU:</label> <input id=mtusize type=number max=255 min=0 value=20> <label for=interleavedcount>确认间隔:</label> <input id=interleavedcount type=number max=500 min=0 value=50></div></div><div class=status-bar><b>状态：</b><span id=status></span></div><div class=flex-container><div class=flex-group><button class=secondary onclick=rotateCanvas() type=button>旋转画布</button> <button class=secondary onclick=clearCanvas() type=button>清除画布</button> <button class=secondary onclick=rotateImage(-90) type=button>逆时针旋转</button> <button class=secondary onclick=rotateImage(90) type=button>顺时针旋转</button> <button class=secondary onclick=downloadDataArray() type=button>下载数组</button> <button class=primary onclick=sendimg() type=button id=sendimgbutton>发送图片</button></div></div><div class=canvas-container><div class=canvas-title></div><canvas height=300 id=canvas width=400></canvas><div class="flex-container canvas-tools"><div class="flex-group tool-buttons"><button class=tool-button id=brush-mode title=画笔>✏️</button> <button class=tool-button id=eraser-mode title=橡皮擦>🧽</button> <button class=tool-button id=text-mode title=添加文字>T</button></div><div class="flex-group brush-tools"><label for=brush-color>画笔和文字颜色:</label> <select id=brush-color><option value=#000000>黑色<option value=#FF0000>红色<option value=#FFFFFF>白色</select> <label for=brush-size>画笔粗细:</label> <input id=brush-size type=number max=100 min=1 value=16></div></div><div class="flex-container canvas-tools"><div class="flex-group text-tools"><label for=font-family>文字字体:</label> <select id=font-family><option value=Arial>Arial<option value=sans-serif>Sans-serif<option value=monospace>Monospace<option value=SimSun>宋体<option value=SimHei>黑体<option value="Microsoft Yahei">微软雅黑<option value="Microsoft JhengHei">微软正黑体<option value=KaiTi>楷体<option value=NSimSun>新宋体<option value=FangSong>仿宋<option value=YouYuan>幼圆<option value=LiSu>隶书<option value=STHeiti>华文黑体<option value=STXihei>华文细黑<option value=STKaiti>华文楷体<option value=STSong>华文宋体<option value=STFangsong>华文仿宋<option value=STZhongsong>华文中宋<option value=STHupo>华文琥珀<option value=STXinwei>华文新魏<option value=STLiti>华文隶书<option value=STXingkai>华文行楷<option value=FZShuTi>方正舒体<option value=FZYaoti>方正姚体<option value="PingFang SC">苹方<option value="Source Han Sans CN">思源黑体<option value="Source Han Serif SC">思源宋体<option value="WenQuanYi Micro Hei">文泉驿微米黑</select> <label for=font-size>文字大小:</label> <input id=font-size type=number max=100 min=1 value=16></div><div class="flex-group text-tools"><label>请输入文字: <input id=text-input placeholder=输入文字 style=width:150px></label> <button id=text-bold title=粗体>B</button> <button id=text-italic title=斜体>I</button> <button class=primary id=add-text-btn>添加文字</button></div><div class="flex-group crop-tools"><button class=secondary id=crop-zoom-in title=放大>+</button> <button class=secondary id=crop-zoom-out title=缩小>-</button> <button id=crop-move-left title=左移>⇦</button> <button id=crop-move-up title=上移>⇧</button> <button id=crop-move-down title=下移>⇩</button> <button id=crop-move-right title=右移>⇨</button> <button class=primary onclick=finishCrop()>完成</button></div></div></div></fieldset><script src="js/3.js?v=20250731"></script><script src="js/2.js?v=20250731"></script><script src="js/1.js?v=20250731"></script><script src="js/js.js?v=20250731"></script>
